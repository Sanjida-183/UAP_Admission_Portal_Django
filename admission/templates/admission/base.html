<!-- admission/templates/admission/base.html -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>{% block title %}UAP Admission Portal{% endblock %}</title>

  {% load static %}
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  {% block extra_css %}{% endblock %}
</head>
<body>
  <!-- Original Top Header -->
  <header class="top-header">
    <div class="logo">
      <img src="https://uap-bd.edu/img/logo.png" alt="UAP logo" />
      <div class="title-wrap" alt="UAP title">
        <h1><strong>University of Asia Pacific</strong></h1>
        <small>Admission Portal</small>
      </div>
    </div>

    <!-- Top Navigation with Authentication Buttons -->
    <nav class="top-links">
      {% if user.is_authenticated %}
        <span style="color: #fff; margin-right: 15px;">Hi, {{ user.first_name }} {{ user.last_name }}</span>
        {% if user.is_staff %}
          <a href="/admin/" class="nav-btn">Admin Panel</a>
        {% else %}
          <a href="{% url 'admission:student_dashboard' %}" class="nav-btn">Dashboard</a>
        {% endif %}
        <a href="{% url 'admission:logout' %}" class="nav-btn logout">Logout</a>
      {% else %}
        <a href="{% url 'admission:student_login' %}" class="nav-btn">Student Login</a>
        <a href="{% url 'admission:student_register' %}" class="nav-btn">Register</a>
        <a href="{% url 'admission:login' %}" class="nav-btn">Staff Login</a>
      {% endif %}
    </nav>
  </header>

  <main>
    {% block content %}{% endblock %}
  </main>

  <script>
    function getCookie(name) {
      const value = `; ${document.cookie}`;
      const parts = value.split(`; ${name}=`);
      if (parts.length === 2) return parts.pop().split(';').shift();
    }
    const csrftoken = getCookie('csrftoken');
  </script>

  {% block extra_js %}{% endblock %}
</body>
</html>